\documentclass{article}
\input{../../etc/preamble.tex}
\title{Chapter 3, Section 3}

\begin{document}
\maketitle
\begin{enumerate} [label=\textbf{\arabic*.}, leftmargin=0em]

\item[1.] Let $X$ be a Noetherian scheme.
Show that $X$ is affine if and only if $\reduced{X}$ (II, Ex. 2.3) is affine.

\begin{proof}
  One direction is clear.
  Suppose $\reduced{X} = \spec{A}$ where $A$ is a Noetherian ring with no nilpotent elements, let $f : \reduced{X} \to X$ be the natural map, and let $\fF$ be any quasi-coherent sheaf on $X$. 
  Following the hint, consider the filtration
  \begin{equation*}
    \fF \supseteq \fN \cdot \fF \supseteq \fN^2 \cdot \fF \supseteq \cdots,
  \end{equation*}
  where $\fN$ is the sheaf of nilpotent elements on $X$.
  Note that $X \cong \reduced{X}$ as topological space, and the associated morphism of sheaves $\fO_X \to f_* \fO_{\reduced{X}}$ is surjective with kernel $\fN$.
  Thus, each of the quotients of this filtration can be naturally viewed as $A$-modules.
  In particular, we have a natural isomorphism (2.10) $$H^i(X, \fN^r \cdot \fF / \fN^{r + 1} \fF) \cong H^i(\reduced{X}, f^*(\fN^r \cdot \fF / \fN^{r + 1} \cdot \fF)).$$
  Also, the nilradical of a Noetherian ring is nilpotent, so there exists a positive integer $r > 0$ such that $\fN^r = 0$ (A.M. 7.15).
  Using our hypothesis and (3.7), we climb up the filtration and deduce that $H^1(X, \fF) = 0$.
  Hence, $X$ is affine by (3.7).
\end{proof}

\item[2.] Let $X$ be a reduced Noetherian scheme.
Show that $X$ is affine if and only if each irreducible component is affine.

\begin{proof}
  Suppose $X = \spec{A}$ is affine for some reduced Noetherian ring $A$.
  The irreducible components of $X$ correspond to the minimal prime ideals $\goth{p}$ of $A$ (A.M. Ex. 1.20).
  In particular, the irreducible components of $X$ are precisely $\spec{A / \goth{p}}$.
  Conversely, let $X_i$ be the irreducible components of $X$, and let $\phi : \fF \to \bigoplus_i j_* \restr{\fF}{X_i}$ be the natural map of $\fO_X$-modules, where $j : X_i \hookrightarrow X$ is the inclusion.
  Since $X$ is Noetherian, $X_i \cap X_j$ is quasi-compact, so we can cover it with a finite number of open affine subsets $X_{ijk}$.
  Because $X$ is reduced, $\phi$ is injective, so we can extend $\phi$ by the following exact sequence
  \[ \begin{tikzcd}
    0 \arrow[r] & \fF \arrow[r] & \bigoplus_i j_* \restr{\fF}{X_i} \arrow[r] & \bigoplus_{i,j} j_* \restr{\fF}{X_{ijk}}.
  \end{tikzcd} \]
  Each $j_* \restr{\fF}{X_i}, j_* \restr{\fF}{X_{ijk}}$ has vanishing cohomology for $i > 0$ by (2.10), (3.5), and (3.7).
  While the sequence above is not surjective on the right, the image is still a quasi-coherent sheaf, so using the long exact sequence of cohomology, we deduce that $H^i(X, \fF) = 0$ for $i > 0$.
  Hence, $X$ is affine by (3.7).
\end{proof}

\item[6.] Let $X$ be a Noetherian scheme.
\begin{itemize}
  \item[(a)] Show that the sheaf $\fG$ constructed in the proof of (3.6) is an injective object in the category $\goth{Qco}(X)$ of quasi-coherent sheaves on $X$.
  Thus, $\goth{Qco}(X)$ has enough injectives.

  \item[(b)] Show that any injective object of $\goth{Qco}(X)$ is flasque.

  \item[(c)] Conclude that one can compute cohomology as the derived functors of $\Gamma(X, \cdot)$, considered as a functor $\goth{Qco}(X)$ to $\goth{Ab}$.
\end{itemize}

\begin{proof} $ $ \vspace{0pt}
\begin{itemize} [leftmargin=0cm]
\item[(a)] The $\Hom$ functor commutes with finite direct sums in the second argument, so we can assume $\fG = j_* \tilde{I}$, where $j : U = \spec{A} \to X$ is the inclusion, and $I$ is an injective $A$-module.
Suppose $\fN \to \fM$ is an injective map of $\fO_X$-modules, and we are given any $f : \fN \to j_*\tilde{I}$.
Since $j^*$ is left exact when $j$ is an open immersion, the induced map of $A$-modules $j^* \fN \to j^* \fM$ is also injective.
For any such $f$ there is an associated morphism of $A$-modules $g : j^* \fN \to \tilde{I}$ by adjointness of $j_*$, so there exists an extension of $g$ to $j^*\fM$ by injectivity of $\widetilde{I}$.
By adjointness of $j^*$ again, we obtain a morphism $\fM \to j_*\tilde{I}$ that naturally extends $f$, which is what we wanted to show.

\item[(b)] Essentially imitating (a) replacing $i^*$ with $i_*$ and vice versa, we deduce that $\restr{\fI}{U}$ is an injective object of $\goth{Qco}(U)$.
Covering $X$ with finite number of open affines $U_i = \spec{A_i}$, we have $\restr{\fI}{U_i} \cong \tilde{I}_i$  for some injective $A_i$-module $I_i$ for each $i$ by (II, 5.5).
Each $\tilde{I}_i$ is flasque by (3.4), so $\fI$ is flasque on a local basis.
Hence, $\fI$ is flasque.

\item[(c)] Considering $\Gamma(X, \cdot)$ as a functor from $\goth{Qco}(X)$ to $\goth{Ab}$, we calculate its derived funcotrs by taking injective resolutions in the category $\goth{Qco}(X)$. But any injective is flasque (b), and flasques are acyclic (2.5), so this resolution gives the usual cohomology functors (1.2A).
\end{itemize} 
\end{proof}

\item[7.] Let $A$ be a Noetherian ring, let $X = \spec{A}$, let $\goth{a} \subseteq A$ be an ideal, and let $U \subseteq X$ be the open set $X - V(\goth{a})$.
\begin{itemize}
  \item[(a)] For any $A$-module $M$, establish the following formula of Deligne:
  \begin{equation*}
    \Gamma(U, \widetilde{M}) \cong \varinjlim_n{\text{Hom}_A(\goth{a}^n, M)}.
  \end{equation*}
  \item[(b)] Apply this in the case of an injective $A$-module $I$, to give another proof of (3.4).
\end{itemize}

\begin{proof} $ $ \vspace{0pt}
\begin{itemize} [leftmargin=0cm]
\item[(a)] Consider the case when $\goth{a}$ is principal, that is $\goth{a} = (f)$ for some $f \in A$.
The left hand side above is isomorphsm to $M_f \cong M \otimes A_f$.
On the other hand, we can write $M_f$ as the colmit $M_f \cong \varinjlim Af^{-n} \otimes M$, and $Af^{-n}$ is invertible with dual $Af^n = \goth{a}^n$.
Thus, we have a natural ismorphism $\Hom_A(\goth{a}^n, M) \cong Af^{-n} \otimes M$, which is what we wanted to show.
This is a generalization of (II, 2.2) and (II, 5.1).

In the general case, by the Noetherian hypothesis, $\goth{a}$ is a finitely generated $A$-module, say $\goth{a} = (f_1, \dots, f_r)$.
Any module over a ring can be expressed as a colimit over its finitely generated submodules.
In particular, $\goth{a} = \varinjlim (f_i)$, and clearly $\Hom_A(\cdot, M)$ commutes with colimits for any $M$.
We can also express $U$ as a colimit $U = \varinjlim U_{f_i}$ in the category of open sets of $X$, where $U_{f_i}$ is the basic open set assocaited to the elment $f_i \in A$.
Note that $U =\bigcup U_{f_i}$.
By naturality of $\Gamma(\cdot, \widetilde{M})$ and $\hspace{4pt}\widetilde{}\hspace{4pt}$ we conclude the general case from the case when $\goth{a}$ is principal.

\item[(b)] Let $I$ be an injective $A$-module.
It will be sufficeint to show for any open set $U \subseteq X$, where $U = X - V(\goth{a})$ for some ideal $\goth{a}$ of $A$, that $\Gamma(X, \tilde{I}) \to \Gamma(U, \tilde{I})$ is surjective.

\end{itemize} 
\end{proof}

\end{enumerate}
\end{document}

% \item Let $A$ be a Noetherian ring, and let $\goth{a}$ be an ideal of $A$.
% \begin{itemize}
%   \item[(a)] Show that $\Gamma_\goth{a}(\cdot)$ (II, Ex. 5.6) is left-exact functor from the category of $A$-modules to itself.
%   We denote its right derived functors, calculated in $\goth{Mod}(A)$, by $H_\goth{a}^i(\cdot)$.

%   \item[(b)] Now let $X = \spec{A}$, $Y = V(\goth{a})$.
%   Show that for any $A$-module $M$,
%   \begin{equation*}
%     H_\goth{a}^i(M) = H_Y^i(X, \widetilde{M}),
%   \end{equation*}
%   where $H_Y^i(X, \cdot)$ denotes cohomology with supports in $Y$ (Ex. 2.3).

%   \item[(c)] For any $i$, show that $\Gamma_\goth{a}(H_\goth{a}^i(M)) = H_\goth{a}^i(M)$.
% \end{itemize}

% \item \textit{Cohomological Interpretation of Depth.} If $A$ is a ring, $\goth{a}$ an ideal, and $M$ an $A$-module, then $\textit{depth}_\goth{a}~M$ is the maximum length of an $M$-regular sequence $x_1, \dots, x_r$, with all $x_i \in \goth{a}$. This generalizes the notion of depth introduced in (II, \S 8).
% \begin{itemize}
%   \item[(a)] Assume that $A$ is Noetherian. Show that if $\text{depth}_\goth{a}~M \geq 1$, then $\Gamma_\goth{a}(M) = 0$, and the converse is true if $M$ is finitely generated.
%   \item[(b)] Show inductively, for $M$ finitely generated, that for any $n \geq 0$, the following conditions are equivalent:
%   \begin{itemize}
%     \item[(i)] $\text{depth}_\goth{a}~M \geq n$;
%     \item[(ii)] $H_\goth{a}^i(M) = 0$ for all $i < n$.
%   \end{itemize}
% \end{itemize}

% \item Let $X$ be a Noetherian scheme, and let $P$ be a closed point of $X$.
% Show that the following conditions are equivalent:
% \begin{itemize}
%   \item[(i)] $\depth \fO_P geq 2$;
%   \item[(ii)] if $U$ is any open neighborhood of $P$, then every section of $\fO_X$ over $U - P$ extends uniquely to a section of $\fO_X$ of $U$.
% \end{itemize}

% This generalizes (I, Ex. 3.20), in view of (II, 8.22A).

% \item Without the Noetherian hypothesis, (3.3) and (3.4) are false.
% Let $A = k[x_0, x_1, x_2, \dots]$ with the relations $x_0^n x_n = 0$ for $n = 1, 2, \dots$.
% Let $I$ be an injective $A$-module containing $A$.
% Show that $I \to I_{x_0}$ is not surjective.
